\documentclass{article}
\usepackage{fullpage}
\usepackage{luacas}
\usepackage{forest}

\begin{document}
Hi 
\begin{CAS}
    vars('x')
    f = cos(x)*e^(sin(x))
\end{CAS}

\begin{CAS}
    g = IntegralExpression.table(f,x)
\end{CAS}
\[ \print{g} \] 

\end{document}

\begin{CAS}
    vars('x')
    num = 2*x^2+1
    den = ((x+1)*(x^2+2*x+2)):expand()
    f = (num/den):autosimplify()
    g = IntegralExpression.rationalfunction(f,x)
\end{CAS}
\[ \print{g:simplify()} \] 

